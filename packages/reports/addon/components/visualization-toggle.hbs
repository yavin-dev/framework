{{!-- Copyright 2021, Yahoo Holdings Inc. Licensed under the terms of the MIT license. See accompanying LICENSE.md file for terms. --}}
<div
  class="visualization-toggle"
  ...attributes
  {{did-insert this.updateCategory}}
  {{did-insert this.updateCategory @report.visualization.manifest}}
>
  <div class="flex align-items-center">
    <PowerSelect
      @options={{this.valid.categories}}
      @selected={{this.selectedCategory}}
      @searchEnabled={{false}}
      @onChange={{this.selectCategory}}
      @triggerClass="visualization-toggle__select-trigger is-small"
      as |category|
    >
      {{category}}
    </PowerSelect>
  </div>
  <DenaliToggle
    @options={{get this.valid.categoryToVisualizations this.selectedCategory}}
    @activeOption={{this.selectedVisualization}}
    @onChange={{@onVisualizationTypeUpdate}}
    @isSmall={{true}}
    as |visualization|
  >
    <DenaliIcon 
      @icon={{visualization.icon}} 
      @size="small"
      class="visualization-toggle__option-icon {{if (eq this.selectedVisualization visualization) "visualization-toggle__option--is-active"}}" 
      title={{visualization.niceName}}
    />
  </DenaliToggle>
</div>
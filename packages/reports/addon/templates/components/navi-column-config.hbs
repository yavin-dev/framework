{{!-- Copyright 2021, Yahoo Holdings Inc. Licensed under the terms of the MIT license. See accompanying LICENSE.md file for terms. --}}
<AnimatedContainer class="navi-column-config" ...attributes
  {{did-insert this.setupElement}}
  {{did-update this.openDefaultColumn this.columns}}>
  {{#animated-if @isOpen use=this.drawerTransition duration=200}}
    <div class="navi-column-config__panel">
      <h3 class="navi-column-config__title">Columns</h3>
      <ul class="navi-column-config__columns">
        {{#each this.columns key="fragment" as |column|}}
          <NaviColumnConfig::Item
            @column={{column}}
            @isLastAdded={{eq column this.lastAddedItem}}
            @isOpen={{eq column.fragment this.currentlyOpenColumn.fragment}}
            @onOpenColumn={{this.openColumn}}
            @visualization={{@report.visualization}}
            @onRemoveColumn={{fn this.removeColumn column}}
            @cloneColumn={{fn this.cloneColumn column}}
            @toggleColumnFilter={{fn this.toggleColumnFilter column}}
            @toggleRollup={{fn this.toggleRollup column}}
          />
        {{/each}}
      </ul>
    </div>
  {{/animated-if}}
</AnimatedContainer>